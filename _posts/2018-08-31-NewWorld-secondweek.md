---
layout:     post
title:      实习工作（二）
subtitle:   记录每周学习的内容
date:       2018-08-31
author:     Hxd
header-img: img/city.jpg
catalog: true
tags: 实习
---

## 星期一
学习golang语法和grpc的相关内容，准备结对编程报告，报告中被问了一个问题，就是kubectl如何更改默认namespace，由于平常操作都是使用`-n +namespace`的方式，切换的namespace比较多，就没注意这个问题，这里补充一下：
## 星期二
主要实现了上周优化日志收集链路，通过修改Chart文件和gitlab-ci文件，去掉了flunetd组件。使fluent-bit直接传输到es数据库。然后还写了[Golang的基础开发细则](https://mangoqiqi.github.io/2018/08/28/Golang%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/)。


## 星期三

周三团建，玩得挺嗨，一个半小时的路程，都在想，怎么定义成长呢？经历过就是一种成长吧！


## 星期四

本地部署c7n。

## 星期五

新需求，优化c7n安装器，通过k8s的持久化卷计算集群的存储和网络状态，主要的结构是，使用NFS服务器作为集群持久化数据库，首先部署pv，使用pvc消费pv，在部署pod使用pvc，通过在pod上运行服务端程序来检测所挂在卷的大小和读写权限。而检查网络状态可以分为node内的pod的通信和不同node的通信，通过随机生成几个端口并且ping通即表明网络状态良好，所有的pod相互检测既可以检测出网络状态，但是此方法过于复杂，先实现此功能再想方法优化检测过程，因为此方法假如有n个pod要检测，则需要执行n!次，性能开销大。

总结：本周的工作量相对上周来说比较轻松，比较有难度的是周五的优化安装器相关的内容，由于刚刚开始接触golang，又要使用go来开发一个客户端/服务器的应用，对我来说挑战还是蛮大的，周末还得加班加点补回go的知识。看一下这周的统计结果吧：

![](http://pbqgh436d.bkt.clouddn.com/18-9-1/56377929.jpg)
